"use strict";(self.webpackChunkarisucool=self.webpackChunkarisucool||[]).push([[592],{7044:(D,A,S)=>{S.d(A,{H:()=>C});var T,I,M,y,E,h=S(5861);function N(s,u){if(!s)throw new Error(u)}const a=function(u,c,w){return(M=M||(0,h.Z)(function*(n,d,i){return new Promise((e,m)=>{const g=n.transaction(d,"readwrite"),p=g.objectStore(d).delete(String(i));g.oncomplete=()=>{e()},g.onabort=()=>{m(p.error?p.error:g.error)},g.onerror=()=>{m(p.error?p.error:g.error)}})})).apply(this,arguments)},l=({database:s,databaseName:u,tableName:c})=>{const w={delete:n=>a(s,c,n).then(()=>!0),get:n=>((s,u,c)=>new Promise((w,n)=>{const e=s.transaction(u,"readonly").objectStore(u).get(String(c));e.onsuccess=()=>{w(e.result)},e.onerror=()=>{n(e.error)}}))(s,c,n),has:n=>function(u,c,w){return(T=T||(0,h.Z)(function*(n,d,i){return new Promise((e,m)=>{const p=n.transaction(d,"readonly").objectStore(d).count(String(i));p.onsuccess=()=>{e(0!==p.result)},p.onerror=()=>{m(p.error)}})})).apply(this,arguments)}(s,c,n),set:(n,d)=>function(u,c,w,n){return(I=I||(0,h.Z)(function*(d,i,e,m){if(void 0!==m)return new Promise((g,b)=>{const p=d.transaction(i,"readwrite"),L=p.objectStore(i).put(m,String(e));p.oncomplete=()=>{g()},p.onabort=()=>{b(L.error?L.error:p.error)},p.onerror=()=>{b(L.error?L.error:p.error)}});yield a(d,i,e)})).apply(this,arguments)}(s,c,n,d).then(()=>w),clear:()=>function(u,c){return(y=y||(0,h.Z)(function*(w,n){return new Promise((d,i)=>{const e=w.transaction(n,"readwrite"),g=e.objectStore(n).clear();e.oncomplete=()=>{d()},e.onabort=()=>{i(g.error?g.error:e.error)},e.onerror=()=>{i(g.error?g.error:e.error)}})})).apply(this,arguments)}(s,c),dropInstance:()=>((s,u)=>new Promise((c,w)=>{s.close();const n=indexedDB.deleteDatabase(u);n.onupgradeneeded=d=>{d.preventDefault(),c()},n.onblocked=()=>{w(n.error)},n.onerror=function(){w(n.error)},n.onsuccess=function(){c()}}))(s,u),close:()=>Promise.resolve().then(()=>{s.close()}),[Symbol.asyncIterator]:()=>((s,u)=>{const d=s.transaction(u,"readonly").objectStore(u).openCursor();return{next:()=>(0,h.Z)(function*(){const{done:i,value:e}=yield(i=>new Promise((e,m)=>{i.onsuccess=()=>{const g=i.result;return e(g?{done:!1,value:g}:{done:!0})},i.onerror=()=>{m(i.error)}}))(d);if(!i){const m=e?.key,g=e?.value;return e?.continue(),{done:!1,value:[m,g]}}return{done:!0,value:void 0}})()}})(s,c),__debug__database__:s};return w},C=function(u){return(E=E||(0,h.Z)(function*(c){var w;const{name:n,version:d,upgrade:i,...e}=c;N("string"==typeof n,"name should be string"),N("number"==typeof d,"version should be number");const m=null!==(w=e.tableName)&&void 0!==w?w:"kvs",g=yield(({name:s,version:u,tableName:c,onUpgrade:w})=>new Promise((n,d)=>{const i=indexedDB.open(s,u);i.onupgradeneeded=function(e){var m;const g=e.oldVersion,b=null!==(m=e.newVersion)&&void 0!==m?m:u,p=i.result;try{(!b||b<=1)&&p.createObjectStore(c)}catch(j){d(j)}p.onversionchange=()=>{p.close()},e.target.transaction.oncomplete=(0,h.Z)(function*(){try{return yield w({oldVersion:g,newVersion:b,database:p}),n(p)}catch(j){return d(j)}})},i.onblocked=()=>{d(i.error)},i.onerror=function(){d(i.error)},i.onsuccess=function(){n(i.result)}}))({name:n,version:d,tableName:m,onUpgrade:({oldVersion:b,newVersion:p,database:j})=>{if(i)return i({kvs:l({database:j,tableName:m,databaseName:n}),oldVersion:b,newVersion:p})}});return l({database:g,tableName:m,databaseName:n})})).apply(this,arguments)}},2779:(D,A,S)=>{S.d(A,{g:()=>M});var h=S(5861),T=S(7044),I=S(5879);let M=(()=>{var y;class E{constructor(){this.CACHE_STORAGE_VERSION=1}init(){var f=this;return(0,h.Z)(function*(){f.storage||(f.storage=yield(0,T.H)({name:"arisucoolCache",version:f.CACHE_STORAGE_VERSION}))})()}getCachedJson(f,_){var v=this;return(0,h.Z)(function*(){if(yield v.init(),!v.storage)throw new Error("Storage not initialized");const x=yield v.storage.get(f);if(null===x)return;let r;try{r=JSON.parse(x)}catch{return}if(!r||!r.content||!r.createdAt)return;const a=(new Date).getTime();if(!(void 0!==_&&_<a-r.createdAt))return r.content;v.storage.delete(f)})()}setCachedJson(f,_){var v=this;return(0,h.Z)(function*(){if(yield v.init(),!v.storage)throw new Error("Storage not initialized");const x=(new Date).getTime();"string"==typeof _&&(_=JSON.parse(_)),v.storage.set(f,JSON.stringify({content:_,createdAt:x}))})()}}return(y=E).\u0275fac=function(f){return new(f||y)},y.\u0275prov=I.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),E})()},553:(D,A,S)=>{S.d(A,{N:()=>h});const h={SHOPPING_LIST_JSON_API_URL:"https://script.google.com/macros/s/AKfycbzqdzs-782d8b0FIVlV0zcDTEkFo65BaGtc212VO04FyOUH8wNs_nQiV4O6KmimQMLTUA/exec",NEWS_LIST_JSON_API_URL:"https://script.google.com/macros/s/AKfycbwmuORg2yKaHbqlxmXiflTU6QUXw9dXZDLbHQVIV183qK_iNMM9-2FSXD43RM4fVvrxgg/exec"}},9913:(D,A,S)=>{S.d(A,{Ot:()=>x,uC:()=>N});var h=S(7582),T=S(5879);const I=[{name:"twttr",src:"https://platform.twitter.com/widgets.js"}];let M=(()=>{class r{constructor(){this.scripts={},this.attr="twElement",this.scriptAttr="twttr",I.forEach(t=>{this.scripts[t.name]={loaded:!1,src:t.src}})}load(...t){const o=[];return t.forEach(l=>o.push(this.loadScript(l))),Promise.all(o)}get domStatus(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}loadScript(t){return new Promise((o,l)=>{if(this.scripts[t].loaded)o({script:t,loaded:!0,status:"Already Loaded"});else{let C=document.createElement("script");C.type="text/javascript",C.src=this.scripts[t].src,C.readyState?C.onreadystatechange=()=>{("loaded"===C.readyState||"complete"===C.readyState)&&(C.onreadystatechange=null,this.scripts[t].loaded=!0,o({script:t,loaded:!0,status:"Loaded"}))}:C.onload=()=>{this.scripts[t].loaded=!0,o({script:t,loaded:!0,status:"Loaded"})},C.onerror=s=>o({script:t,loaded:!1,status:"Loaded"}),document.getElementsByTagName("head")[0].appendChild(C)}})}loadElement(t,o,l,C,s){return(0,h.mG)(this,void 0,void 0,function*(){l.nativeElement.querySelectorAll("*").forEach(c=>{c.hasAttribute(this.attr)&&c.remove()});const u=document.createElement("div");u.setAttribute(this.attr,"yes"),l.nativeElement.appendChild(u);try{yield(yield this.twitterWidget())[t](o,u,this.getObj(C)),s({status:!0})}catch(c){s({status:!1,error:c}),u.innerHTML="Issue on load Twitter Follow Button."}})}twitterWidget(){return new Promise((t,o)=>{const l=window[this.scriptAttr];(!l||!l.widgets)&&o(),t(l.widgets)})}getObj(t){return"object"==typeof t?Object.assign({},t):t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=T.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),N=(()=>{class r{constructor(t,o){this.element=t,this.widgetService=o,this.onLoad=new T.vpe,this.attr="twElement",this.scriptAttr="twttr",this.error=!1}ngAfterViewInit(){return(0,h.mG)(this,void 0,void 0,function*(){yield this.loadScript(),this.loadWidget()})}loadWidget(){return(0,h.mG)(this,void 0,void 0,function*(){this.widgetService.loadElement("createTweet",this.tweetID,this.element,this.options,t=>{this.onLoad.emit(t)})})}loadScript(){return(0,h.mG)(this,void 0,void 0,function*(){return new Promise((t,o)=>{this.widgetService.load(this.scriptAttr).then(l=>{t(!0),console.log("Script loaded successfully,")}).catch(l=>{o(),console.log("Script load issue,")})})})}}return r.\u0275fac=function(t){return new(t||r)(T.Y36(T.SBq),T.Y36(M))},r.\u0275cmp=T.Xpm({type:r,selectors:[["ngx-twitter-tweet"]],inputs:{tweetID:"tweetID",options:"options"},outputs:{onLoad:"onLoad"},decls:0,vars:0,template:function(t,o){},encapsulation:2}),r})(),x=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=T.oAB({type:r}),r.\u0275inj=T.cJS({imports:[[]]}),r})()},5861:(D,A,S)=>{function h(I,M,y,E,N,f,_){try{var v=I[f](_),x=v.value}catch(r){return void y(r)}v.done?M(x):Promise.resolve(x).then(E,N)}function T(I){return function(){var M=this,y=arguments;return new Promise(function(E,N){var f=I.apply(M,y);function _(x){h(f,E,N,_,v,"next",x)}function v(x){h(f,E,N,_,v,"throw",x)}_(void 0)})}}S.d(A,{Z:()=>T})}}]);